def турпоход(емкость, предметы):
    """
    Решает задачу о рюкзаке для оптимального набора предметов в турпоход.

    Args:
        емкость: Максимальная емкость рюкзака в фунтах.
        предметы: Список кортежей, где каждый кортеж представляет предмет 
                в формате (название, вес, ценность).

    Returns:
        Кортеж, содержащий:
            - Общую ценность выбранных предметов.
            - Список названий выбранных предметов.
    """

    n = len(предметы)
    # Создаем таблицу для динамического программирования.  
    # dp[i][w] будет содержать максимальную ценность, которую можно получить, 
    # используя первые i предметов и рюкзак емкостью w.
    dp = [[0 for w in range(емкость + 1)] for i in range(n + 1)]

    # Заполняем таблицу dp итеративно.
    for i in range(1, n + 1):
        название, вес, ценность = предметы[i-1]
        for w in range(емкость + 1):
            if вес <= w:
                # Есть два варианта:
                # 1. Включить предмет i в рюкзак: ценность i + ценность оставшегося места
                # 2. Не включать предмет i в рюкзак: ценность без предмета i
                dp[i][w] = max(ценность + dp[i-1][w-вес], dp[i-1][w])
            else:
                # Если предмет слишком тяжелый, чтобы поместиться в рюкзак, 
                # то берем значение из предыдущей строки (без этого предмета).
                dp[i][w] = dp[i-1][w]

    # Определяем выбранные предметы, двигаясь обратно по таблице dp.
    выбранные_предметы = []
    w = емкость
    for i in range(n, 0, -1):
        if dp[i][w] != dp[i-1][w]:
            название, вес, ценность = предметы[i-1]
            выбранные_предметы.append(название)
            w -= вес

    # Возвращаем общую ценность и список выбранных предметов.
    return dp[n][емкость], выбранные_предметы


# Определяем данные о предметах.
предметы = [
    ("Вода", 3, 10),
    ("Книга", 1, 3),
    ("Еда", 2, 9),
    ("Куртка", 2, 5),
    ("Камера", 1, 6)
]

# Задаем емкость рюкзака.
емкость_рюкзака = 6

# Получаем оптимальный набор предметов и общую ценность.
общая_ценность, выбранные_предметы = турпоход(емкость_рюкзака, предметы)

# Выводим результат.
print("Оптимальный набор предметов:")
for предмет in выбранные_предметы:
    print(предмет)
print(f"Общая ценность: {общая_ценность}")